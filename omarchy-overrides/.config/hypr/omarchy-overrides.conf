# Omarchy Hyprland Configuration Overrides
# This file is sourced by ~/.config/hypr/hyprland.conf
# Personal configuration overrides for Hyprland

# ╔══════════════════════════════════════════════════════════════════════╗
# ║                           MONITOR SETUP                              ║
# ╚══════════════════════════════════════════════════════════════════════╝

# Straight 1x setup for low-resolution displays like 1080p or 1440p
env = GDK_SCALE,1

# Primary monitor: LG ULTRAGEAR 27" 1440p @ 144Hz (left)
monitor = DP-1, 2560x1440@240, 0x0, 1

# Secondary monitor: LG FULL HD 24" 1080p @ 60Hz (right, rotated 270°)
monitor = HDMI-A-1, 2560x1440@144, 2560x-554, 1, transform, 3

# Fallback for other monitors
monitor = , preferred, auto, auto

# Workspace assignments
# Workspaces 1-7 on primary monitor (DP-1)
workspace = 1, monitor:DP-1, default:true
workspace = 2, monitor:DP-1
workspace = 3, monitor:DP-1
workspace = 4, monitor:DP-1
workspace = 5, monitor:DP-1
workspace = 6, monitor:DP-1
workspace = 7, monitor:DP-1

# Workspaces 8-10 on secondary monitor (HDMI-A-1)
workspace = 8, monitor:HDMI-A-1, default:true
workspace = 9, monitor:HDMI-A-1
workspace = 10, monitor:HDMI-A-1

# ╔══════════════════════════════════════════════════════════════════════╗
# ║                           INPUT CONFIG                               ║
# ╚══════════════════════════════════════════════════════════════════════╝

input {
    # Use multiple keyboard layouts and switch between them with Ctrl+Space
    kb_layout = us,ua
    kb_options = grp:ctrl_space_toggle:nocaps

    # Fast keyboard repeat
    repeat_rate = 40
    repeat_delay = 200

    # Start with numlock on by default
    # numlock_by_default = true

    # Map touchpad scrolling to mouse scroll in X11 apps
    scroll_method = 2fg

    # 1-click tapping
    touchpad {
        tap-to-click = true
    }
}

# ╔══════════════════════════════════════════════════════════════════════╗
# ║                          LOOK AND FEEL                               ║
# ╚══════════════════════════════════════════════════════════════════════╝
# Adopted from elifouts-Dotfiles with transparency and blur effects

general {
    gaps_in = 2
    gaps_out = 10
    border_size = 0
    resize_on_border = true
    allow_tearing = false
    layout = dwindle
}

decoration {
    rounding = 10
    active_opacity = 0.78
    inactive_opacity = 0.7
    fullscreen_opacity = 1

    blur {
        enabled = true
        size = 3
        passes = 5
        new_optimizations = true
        ignore_opacity = true
        xray = false
        popups = true
    }

    shadow {
        enabled = true
        range = 15
        render_power = 5
        color = rgba(0,0,0,.5)
    }
}

dwindle {
    preserve_split = true
}

misc {
    force_default_wallpaper = -1
    disable_hyprland_logo = true
    focus_on_activate = true
}

gestures {
#    workspace_swipe = true
    workspace_swipe_distance = 300
    workspace_swipe_cancel_ratio = .05
    workspace_swipe_min_speed_to_force = 0
}

# Enable blur for waybar and swaync
layerrule = blur, waybar
layerrule = ignorezero, waybar
layerrule = ignorealpha 0.5, waybar
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-control-center
layerrule = ignorezero, swaync-notification-window
layerrule = ignorealpha 0.5, swaync-control-center
layerrule = ignorealpha 0.5, swaync-notification-window
layerrule = noanim, selection

# Custom animations (snappy and fluid)
animations {
    enabled = true
    bezier = fluid, 0.15, 0.85, 0.25, 1
    bezier = snappy, 0.3, 1, 0.4, 1
    animation = windows, 1, 3, fluid, popin 5%
    animation = windowsOut, 1, 2.5, snappy
    animation = fade, 1, 4, snappy
    animation = workspaces, 1, 1.7, snappy, slide
    animation = specialWorkspace, 1, 4, fluid, slidefadevert -35%
    animation = layers, 1, 2, snappy, popin 70%
}

# ╔══════════════════════════════════════════════════════════════════════╗
# ║                         CUSTOM BINDINGS                              ║
# ╚══════════════════════════════════════════════════════════════════════╝

# Unbind defaults that conflict with our bindings
unbind = SUPER, RETURN
unbind = SUPER, T
unbind = SUPER, B
unbind = SUPER SHIFT, B
unbind = SUPER SHIFT ALT, B
unbind = SUPER, Q
unbind = SUPER, W
unbind = SUPER, F
unbind = SUPER, SLASH
unbind = SUPER, H
unbind = SUPER, J
unbind = SUPER, K
unbind = SUPER, L
unbind = SUPER SHIFT, H
unbind = SUPER SHIFT, J
unbind = SUPER SHIFT, K
unbind = SUPER SHIFT, L
unbind = SUPER ALT, H
unbind = SUPER ALT, L



# Application bindings (focus-or-launch)
bindd = SUPER, RETURN, Full screen, fullscreen, 0
bindd = SUPER, T, Terminal (Ghostty), exec, omarchy-focus-or-launch com.mitchellh.ghostty ghostty
bindd = SUPER, B, Browser (Chromium), exec, omarchy-focus-or-launch chromium chromium
bindd = SUPER SHIFT, B, Browser (new window), exec, omarchy-launch-browser
bindd = SUPER SHIFT ALT, B, Browser (private), exec, omarchy-launch-browser --private
# bindd = SUPER, E, exec, Email client (TODO)

# Window management overrides
bindd = SUPER, Q, Close window, killactive,
bindd = SUPER, W, Toggle window floating/tiling, togglefloating,
bindd = SUPER, F, File Manager (Nautilus), exec, uwsm-app -- nautilus --new-window

# Show key bindings with SUPER + ?
bindd = SUPER, SLASH, Show key bindings, exec, omarchy-menu-keybindings

# Vim-style focus movement (hjkl)
bindd = SUPER, H, Move window focus left, movefocus, l
bindd = SUPER, J, Move window focus down, movefocus, d
bindd = SUPER, K, Move window focus up, movefocus, u
bindd = SUPER, L, Move window focus right, movefocus, r

# Vim-style window swapping (SUPER + SHIFT + hjkl)
bindd = SUPER SHIFT, H, Swap window to the left, swapwindow, l
bindd = SUPER SHIFT, J, Swap window down, swapwindow, d
bindd = SUPER SHIFT, K, Swap window up, swapwindow, u
bindd = SUPER SHIFT, L, Swap window to the right, swapwindow, r

# Move window to prev/next workspace (SUPER + ALT + hl)
bindd = SUPER ALT, H, Move window to prev workspace, movetoworkspace, r-1
bindd = SUPER ALT, L, Move window to next workspace, movetoworkspace, r+1

# Move/snap windows (CTRL + ALT + hjkl)
bindd = CTRL ALT, H, Move/snap window left, movewindow, l
bindd = CTRL ALT, J, Move/snap window down, movewindow, d
bindd = CTRL ALT, K, Move/snap window up, movewindow, u
bindd = CTRL ALT, L, Move/snap window right, movewindow, r
